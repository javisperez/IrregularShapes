/**
 * Irregular Shapes library by Javis Perez - http://www.javisperez.com
 */
(function(s){var l=function(){this.CHUNK_SIZE=5;this.X_DIRT=0.17*this.CHUNK_SIZE;this.Y_DIRT=0.17*this.CHUNK_SIZE;this.CTX=null;var c=this;this.coord=function(a,c){return{x:a||0,y:c||0}};this.getBezier=function(a,k,h,d,b){var f=new c.coord;f.x=k.x*a*a*a+3*d.x*a*a*(1-a)+3*b.x*a*(1-a)*(1-a)+h.x*(1-a)*(1-a)*(1-a);f.y=k.y*a*a*a+3*d.y*a*a*(1-a)+3*b.y*a*(1-a)*(1-a)+h.y*(1-a)*(1-a)*(1-a);return f}};l.prototype.setChunkSize=function(c){this.CHUNK_SIZE=c};l.prototype.setNoise=function(c,a){this.X_DIRT=c;this.Y_DIRT=
a};l.prototype.setContext=function(c){this.CTX=c};l.prototype.drawLine=function(c,a,k,h){var d=this.CTX;d.save();d.moveTo(c,a);var b=k-c,f=h-a,e=Math.floor(Math.sqrt(Math.pow(b,2)+Math.pow(f,2))/this.CHUNK_SIZE),b=b/e,f=f/e;for(e--;e--;)c+=b,a+=f,c+=2*Math.random()*this.X_DIRT-this.X_DIRT,a+=2*Math.random()*this.Y_DIRT-this.Y_DIRT,d.lineTo(c,a);d.lineTo(k,h);d.restore()};l.prototype.drawArc=function(c,a,k,h,d){var b=this.CTX;b.save();b.lineCap="round";var f=(d-h)/Math.floor(2*((180*d/Math.PI-180*
h/Math.PI)/360)*Math.PI*k/this.CHUNK_SIZE),e=h,g=c+Math.sin(h)*k;h=a+Math.cos(h)*k;b.moveTo(g,h);for(d-=f;e<d;)Math.random(),Math.random(),e+=f,g=c+Math.sin(e)*k,h=a+Math.cos(e)*k,c+=2*Math.random()*this.X_DIRT-this.X_DIRT,a+=2*Math.random()*this.Y_DIRT-this.Y_DIRT,b.lineTo(g,h);b.restore()};l.prototype.drawRect=function(c,a,k,h){var d=this.CTX;d.save();var b=c,f=a,e=c+k,g=a;d.moveTo(b,f);for(var m=0;4>m;m++){var l=e-b,p=g-f,n=Math.floor(Math.sqrt(Math.pow(l,2)+Math.pow(p,2))/this.CHUNK_SIZE),l=l/
n,p=p/n;for(n--;n--;)b+=l,f+=p,b+=2*Math.random()*this.X_DIRT-this.X_DIRT,f+=2*Math.random()*this.Y_DIRT-this.Y_DIRT,d.lineTo(b,f);d.lineTo(e,g);b=e;f=g;e=c;g=a+h;0==m?e=c+k:2==m&&(g=a)}d.restore()};l.prototype.drawBezierCurve=function(c,a,k,h,d,b,f,e){var g=this.CTX;g.save();g.moveTo(f,e);var m=a-e,m=Math.floor(Math.sqrt(Math.pow(c-f,2)+Math.pow(m,2))/this.CHUNK_SIZE);c=new this.coord(c,a);k=new this.coord(k,h);d=new this.coord(d,b);f=new this.coord(f,e);for(e=0;e<m;)b=this.getBezier(e/m,c,f,k,d),
b.x+=2*Math.random()*this.X_DIRT-this.X_DIRT,b.y+=2*Math.random()*this.Y_DIRT-this.Y_DIRT,g.lineTo(b.x,b.y),e++;g.restore()};l.prototype.drawQuadraticCurve=function(c,a,k,h,d,b){this.drawBezierCurve(c,a,k,h,k,h,d,b)};l.prototype.drawPoly=function(c,a,k,h,d){var b=this.CTX;b.save();var f=2*Math.PI/k,e=d||Math.PI;d=h;var g=0;b.translate(c,a);b.rotate(e);b.moveTo(d,g);for(c=1;c<=k;c++){var m=h*Math.cos(f*c),e=h*Math.sin(f*c);a=Math.floor(h/this.CHUNK_SIZE);m/=a;for(e/=a;a--;)d+=m,g+=e,d+=2*Math.random()*
this.X_DIRT-this.X_DIRT,g+=2*Math.random()*this.Y_DIRT-this.Y_DIRT,b.lineTo(d,g)}b.restore()};l.prototype.drawStar=function(c,a,k,h,d,b){b=this.CTX;b.save();var f=Math.PI/k,e=c+Math.cos(-f)*d,g=a+Math.sin(-f)*d;b.moveTo(e,g);for(var m=0;m<2*k;m++){for(var l=1==m%2?d:h,p=c+Math.cos(m*f)*l,l=a+Math.sin(m*f)*l,n=p-e,q=l-g,r=Math.floor(Math.sqrt(Math.pow(n,2)+Math.pow(q,2))/this.CHUNK_SIZE),n=n/r,q=q/r;r--;)e+=n,g+=q,e+=2*Math.random()*this.X_DIRT-this.X_DIRT,g+=2*Math.random()*this.Y_DIRT-this.Y_DIRT,
b.lineTo(e,g);e=p;g=l}b.restore()};s.IrregularShapes=l})(window);
