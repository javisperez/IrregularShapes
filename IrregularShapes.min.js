/**
 * Irregular Shapes library by Javis Perez - http://www.javisperez.com
 */
(function(s){var l=function(){this.CHUNK_SIZE=5;this.X_DIRT=0.17*this.CHUNK_SIZE;this.Y_DIRT=0.17*this.CHUNK_SIZE;this.CTX=null;var b=this;this.coord=function(a,b){return{x:a||0,y:b||0}};this.getBezier=function(a,k,h,d,c){var f=new b.coord;f.x=k.x*a*a*a+3*d.x*a*a*(1-a)+3*c.x*a*(1-a)*(1-a)+h.x*(1-a)*(1-a)*(1-a);f.y=k.y*a*a*a+3*d.y*a*a*(1-a)+3*c.y*a*(1-a)*(1-a)+h.y*(1-a)*(1-a)*(1-a);return f}};l.prototype.setChunkSize=function(b){this.CHUNK_SIZE=b;this.X_DIRT=0.17*b;this.Y_DIRT=0.17*b};l.prototype.setNoise=
function(b,a){this.X_DIRT=b;this.Y_DIRT=a};l.prototype.setContext=function(b){this.CTX=b};l.prototype.drawLine=function(b,a,k,h){var d=this.CTX;d.save();d.moveTo(b,a);var c=k-b,f=h-a,e=Math.floor(Math.sqrt(Math.pow(c,2)+Math.pow(f,2))/this.CHUNK_SIZE),c=c/e,f=f/e;for(e--;e--;)b+=c,a+=f,b+=2*Math.random()*this.X_DIRT-this.X_DIRT,a+=2*Math.random()*this.Y_DIRT-this.Y_DIRT,d.lineTo(b,a);d.lineTo(k,h);d.restore()};l.prototype.drawArc=function(b,a,k,h,d){var c=this.CTX;c.save();c.lineCap="round";var f=
(d-h)/Math.floor(2*((180*d/Math.PI-180*h/Math.PI)/360)*Math.PI*k/this.CHUNK_SIZE),e=h,g=b+Math.sin(h)*k;h=a+Math.cos(h)*k;c.moveTo(g,h);for(d-=f;e<d;)Math.random(),Math.random(),e+=f,g=b+Math.sin(e)*k,h=a+Math.cos(e)*k,b+=2*Math.random()*this.X_DIRT-this.X_DIRT,a+=2*Math.random()*this.Y_DIRT-this.Y_DIRT,c.lineTo(g,h);c.restore()};l.prototype.drawRect=function(b,a,k,h){var d=this.CTX;d.save();var c=b,f=a,e=b+k,g=a;d.moveTo(c,f);for(var m=0;4>m;m++){var l=e-c,p=g-f,n=Math.floor(Math.sqrt(Math.pow(l,
2)+Math.pow(p,2))/this.CHUNK_SIZE),l=l/n,p=p/n;for(n--;n--;)c+=l,f+=p,c+=2*Math.random()*this.X_DIRT-this.X_DIRT,f+=2*Math.random()*this.Y_DIRT-this.Y_DIRT,d.lineTo(c,f);d.lineTo(e,g);c=e;f=g;e=b;g=a+h;0==m?e=b+k:2==m&&(g=a)}d.restore()};l.prototype.drawBezierCurve=function(b,a,k,h,d,c,f,e){var g=this.CTX;g.save();g.moveTo(f,e);var m=a-e,m=Math.floor(Math.sqrt(Math.pow(b-f,2)+Math.pow(m,2))/this.CHUNK_SIZE);b=new this.coord(b,a);k=new this.coord(k,h);d=new this.coord(d,c);f=new this.coord(f,e);e=
1;for(m--;e<m;)c=this.getBezier(e/m,b,f,k,d),c.x+=2*Math.random()*this.X_DIRT-this.X_DIRT,c.y+=2*Math.random()*this.Y_DIRT-this.Y_DIRT,g.lineTo(c.x,c.y),e++;g.restore()};l.prototype.drawQuadraticCurve=function(b,a,k,h,d,c){this.drawBezierCurve(b,a,k,h,k,h,d,c)};l.prototype.drawPoly=function(b,a,k,h,d){var c=this.CTX;c.save();var f=2*Math.PI/k,e=d||Math.PI;d=h;var g=0;c.translate(b,a);c.rotate(e);c.moveTo(d,g);for(b=1;b<=k;b++){var m=h*Math.cos(f*b),e=h*Math.sin(f*b);a=Math.floor(h/this.CHUNK_SIZE);
m/=a;for(e/=a;a--;)d+=m,g+=e,d+=2*Math.random()*this.X_DIRT-this.X_DIRT,g+=2*Math.random()*this.Y_DIRT-this.Y_DIRT,c.lineTo(d,g)}c.restore()};l.prototype.drawStar=function(b,a,k,h,d,c){c=this.CTX;c.save();var f=Math.PI/k,e=b+Math.cos(-f)*d,g=a+Math.sin(-f)*d;c.moveTo(e,g);for(var m=0;m<2*k;m++){for(var l=1==m%2?d:h,p=b+Math.cos(m*f)*l,l=a+Math.sin(m*f)*l,n=p-e,q=l-g,r=Math.floor(Math.sqrt(Math.pow(n,2)+Math.pow(q,2))/this.CHUNK_SIZE),n=n/r,q=q/r;r--;)e+=n,g+=q,e+=2*Math.random()*this.X_DIRT-this.X_DIRT,
g+=2*Math.random()*this.Y_DIRT-this.Y_DIRT,c.lineTo(e,g);e=p;g=l}c.restore()};s.IrregularShapes=l})(window);